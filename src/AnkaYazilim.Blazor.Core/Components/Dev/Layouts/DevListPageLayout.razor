@typeparam TDataGridItem


@if (!DataGridService.IsLoaded)
{
    <CircleLoading Caption="@ListPageService.LoadingCaption"
               Text="@ListPageService.LoadingText" />


}
else
{
    if (!ListPageService.IsPopUpListPage)
    {
        <DevPageHeader Caption="@Caption" />
    }

    <DevGridLayout ColumnCount="ColumnCount"
               ColumnSpacing="@ColumnSpacing"
               ColumnWidhts="@ColumnWidhts"
               RowCount="RowCount"
               RowHeights="@RowHeights"
               RowSpacing="@RowSpacing">

        <GridLayoutItems>
            @ListPageContext
        </GridLayoutItems>

    </DevGridLayout>

    @if (ListPageService.EditPageVisible)
    {
        @EditPageContext
    }
}


@code {

    [Parameter, EditorRequired] public ICoreDataGridService<TDataGridItem> DataGridService { get; set; }
    [Parameter, EditorRequired] public ICoreListPageService ListPageService { get; set; }
    [Parameter] public string Caption { get; set; }

    [Parameter]
    public int ColumnCount { get; set; } = 1;
    [Parameter] public string ColumnSpacing { get; set; }
    [Parameter] public string[] ColumnWidhts { get; set; }
    [Parameter] public string[] RowHeights { get; set; }
    [Parameter] public string RowSpacing { get; set; }

    [Parameter]
    public int RowCount { get; set; } = 1;
    [Parameter, EditorRequired] public RenderFragment ListPageContext { get; set; }
    [Parameter] public RenderFragment EditPageContext { get; set; }
}
